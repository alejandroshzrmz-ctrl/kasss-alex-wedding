<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Civil Wedding | Kasss & Alex</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#f9f5f0;padding:30px}
.top{text-align:right;margin-bottom:10px}
.top button{border:none;background:none;font-weight:bold}
.card{max-width:520px;margin:auto;background:white;padding:25px;border-radius:20px}
input,select,button{width:100%;margin-top:10px;padding:12px;border-radius:12px;border:1px solid #ccc}
button.main{background:#6b4f1d;color:white;border:none}
button.back{background:#ccc}
</style>
</head>

<body>

<div class="top">
<button onclick="setLang('es')">ES</button> |
<button onclick="setLang('en')">EN</button>
</div>

<div class="card">
<h2 data-es="üìú Boda Civil" data-en="üìú Civil Wedding"></h2>
<p data-es="Ceremonia civil con familia."
   data-en="Civil ceremony with family."></p>

<h3 data-es="Confirmar asistencia" data-en="Confirm attendance"></h3>

<input id="cel" placeholder="WhatsApp / Celular">
<input id="correo" placeholder="Correo electr√≥nico">
<select id="acomps"></select>

<button class="main" onclick="confirmar()"
  data-es="Confirmar asistencia"
  data-en="Confirm attendance"></button>

<button class="back" onclick="volver()"
  data-es="Volver"
  data-en="Back"></button>
</div>

<script>
const API="https://script.google.com/macros/s/AKfycbxd8RlsY09Bqjp2A9db60X9Bj-W7noj8WPJy1CLgHTLjNQTWb_9eC0o2TeFp0dQ3ZRbFw/exec";
const id=new URLSearchParams(window.location.search).get("id");
const lang=localStorage.getItem("lang")||"es";
function setLang(l){localStorage.setItem("lang",l);location.reload();}
document.querySelectorAll("[data-es]").forEach(el=>el.textContent=el.getAttribute("data-"+lang));

fetch(`${API}?id=${id}`).then(r=>r.json()).then(d=>{
  for(let i=0;i<=d.max;i++)acomps.innerHTML+=`<option>${i}</option>`;
});

function confirmar(){
  fetch(API,{method:"POST",body:JSON.stringify({
    id,evento:"civil",celular:cel.value,correo:correo.value,acompanantes:acomps.value
  })}).then(r=>r.json()).then(res=>{
    alert(res.error?"‚ö†Ô∏è "+res.error:"‚úÖ Confirmaci√≥n guardada");
  });
}
function volver(){location.href="eventos.html?id="+id;}
</script>

</body>
</html>
