<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Boda Civil</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#f9f5f0;padding:30px}
.card{max-width:500px;margin:auto;background:white;padding:25px;border-radius:20px}
input,select,button{
  width:100%;
  margin-top:10px;
  padding:12px;
  border-radius:12px;
  border:1px solid #ccc;
}
button{background:#6b4f1d;color:white;border:none}
.back{
  margin-top:15px;
  background:#ccc;
  color:black;
}
</style>
</head>
<body>

<div class="card">
<h2>ðŸ“œ Boda Civil</h2>
<p>AquÃ­ va la informaciÃ³n de la boda civil: fecha, lugar, vestimenta.</p>

<h3>Confirmar asistencia</h3>

<input id="cel" placeholder="WhatsApp / Celular">
<input id="correo" placeholder="Correo electrÃ³nico">
<select id="acomps"></select>

<button onclick="confirmar()">Confirmar asistencia</button>
<button class="back" onclick="volver()">Volver</button>
</div>

<script>
const API = "https://script.google.com/macros/s/AKfycbxd8RlsY09Bqjp2A9db60X9Bj-W7noj8WPJy1CLgHTLjNQTWb_9eC0o2TeFp0dQ3ZRbFw/exec";
const id = new URLSearchParams(window.location.search).get("id");

fetch(`${API}?id=${id}`)
.then(r=>r.json())
.then(d=>{
  const s = document.getElementById("acomps");
  for(let i=1;i<=d.max;i++){
    s.innerHTML += `<option value="${i}">${i} persona(s)</option>`;
  }
});

function confirmar(){
  const data = {
    id,
    evento:"civil",
    celular:cel.value,
    correo:correo.value,
    acomp:acomps.value
  };

  fetch(API,{
    method:"POST",
    body:JSON.stringify(data)
  }).then(()=>{
    alert("Â¡Gracias por confirmar tu asistencia!");
  });
}

function volver(){
  window.location.href = "eventos.html?id=" + id;
}
</script>

</body>
</html>
